<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Th·ª≠ Th√°ch Vui </title>
    <style>
        body {
            font-family: sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            background-color: #f0f0f0;
        }
        .container {
            background-color: #fff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            text-align: center;
            max-width: 500px;
            width: 90%;
        }
        h1, h2, h3 {
            color: #333;
        }
        /* Style for player selection buttons */
        .player-select-btn {
            padding: 12px 20px;
            margin: 8px;
            border-radius: 5px;
            border: 1px solid #ccc;
            font-size: 1.1em;
            cursor: pointer;
            background-color: #e7f3ff;
            color: #0056b3;
            transition: background-color 0.3s ease, transform 0.1s ease;
        }
        .player-select-btn:hover {
            background-color: #cce5ff;
        }
         .player-select-btn:active {
             transform: scale(0.98);
         }

        /* Style for other buttons */
        button:not(.player-select-btn) {
             padding: 10px 15px;
             margin: 10px 5px;
             border-radius: 5px;
             font-size: 1em;
             cursor: pointer;
             background-color: #007bff;
             color: white;
             border: none;
             transition: background-color 0.3s ease;
         }
         button:not(.player-select-btn):hover {
             background-color: #0056b3;
         }
         button:disabled {
            background-color: #cccccc !important; /* Ensure disabled style overrides */
            cursor: not-allowed;
            color: #666 !important;
         }

        #game-area {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }
        #spinner-info span { /* Style for the green spinner name */
             color: green;
             font-weight: bold;
        }
        #wheel-display {
            font-size: 1.5em;
            font-weight: bold;
            color: #dc3545; /* Red color for the chosen person */
            margin: 20px 0;
            min-height: 30px; /* Reserve space */
            border: 2px dashed #ccc;
            padding: 15px;
            border-radius: 5px;
            background-color: #f8f9fa;
            /* Add transition for smoother text change */
            transition: background-color 0.1s ease-out;
        }
        #wheel-display.spinning {
             background-color: #fff3cd; /* Highlight during spin */
             color: #856404; /* Darker text during spin for contrast */
        }
        #dare-area { /* Keep dare area styling */
            margin-top: 20px;
            padding: 15px;
            border-radius: 5px;
            background-color: #e9ecef;
        }
         #dare-text {
            font-style: italic;
            color: #555;
             margin-top: 10px;
             line-height: 1.6;
         }
        #dare-count {
            margin-top: 20px;
            font-size: 0.9em;
            color: #666;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üé≤ Th·ª≠ Th√°ch Vui üé≤</h1>

        <div id="setup-area">
            <h2>Ch·ªçn ng∆∞·ªùi quay:</h2>
            <!-- Player selection buttons will be added here by JS -->
        </div>

        <div id="game-area" class="hidden">
            <h2 id="spinner-info"></h2> 
            <p>Nh·∫•n n√∫t ƒë·ªÉ quay ch·ªçn ng∆∞·ªùi ch∆°i!</p>
            <div id="wheel-display">(V√≤ng quay s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y)</div>
            <button id="spin-btn">Quay!</button>

            <div id="dare-area" class="hidden">
                <h3>Th·ª≠ th√°ch:</h3>
                <p id="dare-text"></p>
            </div>

             <button id="next-turn-btn" class="hidden">Ch·ªçn ng∆∞·ªùi quay kh√°c</button>
        </div>

        <div id="dare-count"></div>
         <div id="game-over" class="hidden" style="margin-top: 20px; color: red; font-weight: bold;">
            H·∫øt th·ª≠ th√°ch r·ªìi! Ch∆°i l·∫°i th√¨ t·∫£i l·∫°i trang nh√©!
        </div>
    </div>

    <script>
        const players = ['Duke', 'Kathy', 'Minh', 'H∆∞∆°ng'];
        let availableDares = [
            // Dares renumbered 1-40
            { id: 1, text: "Hai ng∆∞·ªùi √¥m nhau trong v√≤ng 30s." },
            { id: 2, text: "C·ªüi ƒê·ªì Theo Y√™u C·∫ßu: ƒê·ªëi ph∆∞∆°ng c·ªüi m·ªôt m√≥n ƒë·ªì tr√™n ng∆∞·ªùi b·∫°n v√† ng∆∞·ª£c l·∫°i." },
            { id: 3, text: "C·ªüi ƒê·ªì Theo Y√™u C·∫ßu: ƒê·ªëi ph∆∞∆°ng c·ªüi m·ªôt m√≥n ƒë·ªì tr√™n ng∆∞·ªùi b·∫°n v√† ng∆∞·ª£c l·∫°i." },
            { id: 4, text: "Hai ng∆∞·ªùi c√πng song ca 1 ƒëo·∫°n nh·∫°c trong 30s" },
            { id: 5, text: "T√©t m√¥ng: T·ª•t qu·∫ßn, Ch·ªïng m√¥ng nh∆∞ t∆∞ th·∫ø Doggy ƒë·ªÉ ƒë·ªëi ph∆∞∆°ng t√©t m√¥ng 3 c√°i. V√† ng∆∞·ª£c l·∫°i. " },
            { id: 6, text: "C·ªüi ƒê·ªì Theo Y√™u C·∫ßu: ƒê·ªëi ph∆∞∆°ng c·ªüi m·ªôt m√≥n ƒë·ªì tr√™n ng∆∞·ªùi b·∫°n v√† ng∆∞·ª£c l·∫°i." },
            { id: 7, text: "Ng·ªìi L√™n ƒê√πi: Ng·ªìi ƒë·ªëi m·∫∑t l√™n ƒë√πi ƒë·ªëi ph∆∞∆°ng v√† c·∫ßm 2 tay ƒë·ªëi ph∆∞∆°ng ƒë·∫∑t l√™n ng·ª±c m√¨nh trong 2 ph√∫t." },
            { id: 8, text: "T√©t m√¥ng: T·ª•t qu·∫ßn, Ch·ªïng m√¥ng nh∆∞ t∆∞ th·∫ø Doggy ƒë·ªÉ ƒë·ªëi ph∆∞∆°ng t√©t m√¥ng 3 c√°i. V√† ng∆∞·ª£c l·∫°i. " },
            { id: 9, text: "JAV Idol : B·∫°n v√† ƒë·ªëi ph∆∞∆°ng t√°i hi·ªán c·∫£nh make love nh∆∞ film xxx trong 2 ph√∫t." },
            { id: 10, text: "H√≠t ƒë·∫•t: ƒê·ªëi ph∆∞∆°ng n·∫±m ng·ª≠a, b·∫°n n·∫±m tr√™n ƒë·ªëi ph∆∞∆°ng h√≠t ƒë·∫•t 5 c√°i, m≈©i ch·∫°m m≈©i ho·∫∑c m√¥i ch·∫°m m√¥i ƒë·ªëi ph∆∞∆°ng." },
            { id: 11, text: "H√≠t ƒë·∫•t: ƒê·ªëi ph∆∞∆°ng n·∫±m ng·ª≠a, b·∫°n n·∫±m tr√™n ƒë·ªëi ph∆∞∆°ng h√≠t ƒë·∫•t 5 c√°i, m≈©i ch·∫°m m≈©i ho·∫∑c m√¥i ch·∫°m m√¥i ƒë·ªëi ph∆∞∆°ng." },
            { id: 12, text: "Th·∫©m du nh·∫π nh√†ng: B·∫°n v√† ƒë·ªëi ph∆∞∆°ng nh√¨n nhau v√† c√πng d√πng tay t·ª± k√≠ch th√≠ch l√™n v√πng k√≠n ho·∫∑c ƒë·∫ßu ty c·ªßa m√¨nh trong 2 ph√∫t." },
            { id: 13, text: "Cho Ph√©p Ch·∫°m: Nh·∫Øm m·∫Øt l·∫°i v√† cho ph√©p ƒë·ªëi ph∆∞∆°ng ch·∫°m v√†o b·∫•t c·ª© ƒë√¢u tr√™n c∆° th·ªÉ b·∫°n trong 2 ph√∫t. V√† ng∆∞·ª£c l·∫°i." },
            { id: 14, text: "M√°t Xa V√πng nh·∫°y c·∫£m : ƒê·ªëi ph∆∞∆°ng m√°t xa nh·∫π nh√†ng v√πng nh·∫°y c·∫£m (v√πng m·∫∑c bikini) c·ªßa b·∫°n. V√† ng∆∞·ª£c l·∫°i." },
            { id: 15, text: "T√©t m√¥ng: T·ª•t qu·∫ßn, Ch·ªïng m√¥ng nh∆∞ t∆∞ th·∫ø Doggy ƒë·ªÉ ƒë·ªëi ph∆∞∆°ng t√©t m√¥ng 3 c√°i. V√† ng∆∞·ª£c l·∫°i. " },
            { id: 16, text: "ƒê·ªÉ ƒë·ªëi ph∆∞∆°ng d√πng toy (ho·∫∑c tay) k√≠ch th√≠ch cho b·∫°n trong 2 ph√∫t. V√† ng∆∞·ª£c l·∫°i." },
            { id: 17, text: "H√≠t ƒë·∫•t: ƒê·ªëi ph∆∞∆°ng n·∫±m ng·ª≠a, b·∫°n n·∫±m tr√™n ƒë·ªëi ph∆∞∆°ng h√≠t ƒë·∫•t 5 c√°i, m≈©i ch·∫°m m≈©i ho·∫∑c m√¥i ch·∫°m m√¥i ƒë·ªëi ph∆∞∆°ng." },
            { id: 18, text: "T·∫°o D√°ng Khi√™u Kh√≠ch: T·∫°o m·ªôt t∆∞ th·∫ø b·∫°n nghƒ© l√† g·ª£i c·∫£m nh·∫•t v√† gi·ªØ y√™n trong 2 ph√∫t ƒë·ªÉ ƒë·ªëi ph∆∞∆°ng ng·∫Øm nh√¨n. V√† ng∆∞·ª£c l·∫°i." },
            { id: 19, text: "Y√™u C·∫ßu B·∫±ng h√†nh ƒë·ªông: M√¥ t·∫£ b·∫±ng h√†nh ƒë·ªông (ko ƒë∆∞·ª£c n√≥i) y√™u c·∫ßu ƒë·ªëi ph∆∞∆°ng c√πng l√†m m·ªôt t∆∞ th·∫ø quan h·ªá m√† b·∫°n th√≠ch." },
            { id: 20, text: "N·ª• H√¥n M√¥i Ch·∫°m M√¥i: Trao cho ƒë·ªëi ph∆∞∆°ng m·ªôt n·ª• h√¥n k√©o d√†i √≠t nh·∫•t 10s." },
            { id: 21, text: "L·ªôt ƒê·ªì B·∫±ng M·ªôt Tay: Th·ª≠ th√°ch c·ªüi m·ªôt m√≥n ƒë·ªì c·ªßa ƒë·ªëi ph∆∞∆°ng ch·ªâ b·∫±ng m·ªôt tay v√† ng∆∞·ª£c l·∫°i." },
            { id: 22, text: "M√°t Xa Ng·ª±c : Ng·ªìi ƒë·ªëi m·∫∑t l√™n ƒë√πi ƒë·ªëi ph∆∞∆°ng, ƒë·ªëi ph∆∞∆°ng nh·∫π nh√†ng m√°t xa v√πng ng·ª±c c·ªßa b·∫°n b·∫±ng 2 tay." },
            { id: 23, text: "H√≠t ƒë·∫•t: ƒê·ªëi ph∆∞∆°ng n·∫±m ng·ª≠a, b·∫°n n·∫±m tr√™n ƒë·ªëi ph∆∞∆°ng h√≠t ƒë·∫•t 5 c√°i, m≈©i ch·∫°m m≈©i ho·∫∑c m√¥i ch·∫°m m√¥i ƒë·ªëi ph∆∞∆°ng." },
            { id: 24, text: "M√¥ Ph·ªèng Lap Dance: Th·ª±c hi·ªán m√†n m√∫a g·ª£i c·∫£m tr√™n ƒë√πi ƒë·ªëi ph∆∞∆°ng trong 2 ph√∫t (ch·ªâ ƒë∆∞·ª£c m·∫∑c qu·∫ßn l√≥t ch·ª© ko ƒë∆∞·ª£c m·∫∑c qu·∫ßn d√†i, c√≥ th·ªÉ m·∫∑c √°o)V√† ng∆∞·ª£c l·∫°i." },
            { id: 25, text: "Tr√™u Gh·∫πo N√∫m V√∫ : Nh·∫π nh√†ng d√πng ƒë·∫ßu ng√≥n tay, m√¥i ho·∫∑c l∆∞·ª°i tr√™u gh·∫πo n√∫m v√∫ c·ªßa ƒë·ªëi ph∆∞∆°ng. V√† ng∆∞·ª£c l·∫°i." },
            { id: 26, text: "Th·∫©m du nh·∫π nh√†ng: B·∫°n v√† ƒë·ªëi ph∆∞∆°ng nh√¨n nhau v√† c√πng d√πng tay t·ª± k√≠ch th√≠ch l√™n v√πng k√≠n ho·∫∑c ƒë·∫ßu ty c·ªßa m√¨nh trong 2 ph√∫t." },
            { id: 27, text: "Y√™u C·∫ßu T∆∞ Th·∫ø: ƒê·ªëi ph∆∞∆°ng y√™u c·∫ßu b·∫°n c√πng t·∫°o d√°ng m·ªôt t∆∞ th·∫ø quan h·ªá trong 2 ph√∫t (v√≠ d·ª•: ch·ªëng tay v√† ƒë·∫ßu g·ªëi nh∆∞ t∆∞ th·∫ø doggy, n·∫±m ng·ª≠a ∆∞·ª°n ng∆∞·ªùi, c∆∞·ª°i ng·ª±a...)." },
            { id: 28, text: "T·∫°o d√°ng t∆∞ th·∫ø 69 v·ªõi ƒë·ªëi ph∆∞∆°ng, c·∫£ 2 ch·ªâ m·∫∑c ƒë·ªì l√≥t ho·∫∑c ko m·∫∑c g√¨." },
            { id: 29, text: "Quan H·ªá B·∫±ng Mi·ªáng (Oral Sex ): B·∫°n v√† ƒë·ªëi ph∆∞∆°ng quan h·ªá b·∫±ng mi·ªáng trong kho·∫£ng th·ªùi gian 2 ph√∫t." },
            { id: 30, text: "Quan H·ªá B·∫±ng Mi·ªáng (Oral Sex ): B·∫°n v√† ƒë·ªëi ph∆∞∆°ng quan h·ªá b·∫±ng mi·ªáng trong kho·∫£ng th·ªùi gian 2 ph√∫t." },
            { id: 31, text: "C√πng C·ªüi ƒê·ªì: C·∫£ hai c√πng nh√¨n v√†o m·∫Øt nhau v√† t·ª´ t·ª´ c·ªüi m·ªôt m√≥n ƒë·ªì gi·ªëng nhau (v√≠ d·ª•: c√πng c·ªüi √°o)." },
            { id: 32, text: "H√¥n theo y√™u c·∫ßu: ƒê·ªëi ph∆∞∆°ng y√™u c·∫ßu b·∫°n h√¥n l√™n 1 b·ªô ph·∫≠n c∆° th·ªÉ c·ªßa h·ªç V√† ng∆∞·ª£c l·∫°i." },
            { id: 33, text: "Th·ª≠ T∆∞ Th·∫ø Doggy : B·∫°n v√†o ƒë·ªëi ph∆∞∆°ng t·∫°o d√°ng t∆∞ th·∫ø doggy trong 2 ph√∫t." },
            { id: 34, text: "R√™n nh∆∞ JAV: B·∫°n v√† ƒë·ªëi ph∆∞∆°ng c√πng t·∫°o ti·∫øng r√™n gi·ªëng nh∆∞ phim JAV trong 2 ph√∫t, Ghi √¢m v√† nghe l·∫°i ti·∫øng R√™n c·ªßa c·∫£ 2." },
            { id: 35, text: "M√°t Xa V√πng nh·∫°y c·∫£m : ƒê·ªëi ph∆∞∆°ng m√°t xa nh·∫π nh√†ng v√πng nh·∫°y c·∫£m (v√πng m·∫∑c bikini) c·ªßa b·∫°n v√† ng∆∞·ª£c l·∫°i." },
            { id: 36, text: "Make love : B·∫°n v√† ƒë·ªëi ph∆∞∆°ng t√°i hi·ªán c·∫£nh make love nh∆∞ film xxx trong 2 ph√∫t." },
            { id: 37, text: "C·ªüi ƒê·ªì Theo Y√™u C·∫ßu: ƒê·ªëi ph∆∞∆°ng c·ªüi m·ªôt m√≥n ƒë·ªì tr√™n ng∆∞·ªùi b·∫°n v√† ng∆∞·ª£c l·∫°i." },
            { id: 38, text: "JAV Idol : B·∫°n v√† ƒë·ªëi ph∆∞∆°ng t√°i hi·ªán c·∫£nh make love nh∆∞ film xxx trong 2 ph√∫t." },
            { id: 39, text: "C·ªüi ƒê·ªì Theo Y√™u C·∫ßu: ƒê·ªëi ph∆∞∆°ng c·ªüi m·ªôt m√≥n ƒë·ªì tr√™n ng∆∞·ªùi b·∫°n v√† ng∆∞·ª£c l·∫°i." },
            { id: 40, text: "Quy·ªÅn Ra L·ªánh Ng∆∞·ª£c: ƒê·ªëi ph∆∞∆°ng ƒë∆∞·ª£c quy·ªÅn ra m·ªôt m·ªánh l·ªánh g·ª£i c·∫£m cho b·∫°n th·ª±c hi·ªán ngay l·∫≠p t·ª©c v√† ng∆∞·ª£c l·∫°i." }
        ];

        let currentSpinner = '';
        let potentialTargets = [];
        let spinningInterval = null;

        // DOM Elements
        const setupArea = document.getElementById('setup-area');
        const gameArea = document.getElementById('game-area');
        const spinnerInfo = document.getElementById('spinner-info');
        const wheelDisplay = document.getElementById('wheel-display');
        const spinBtn = document.getElementById('spin-btn');
        // Removed resultArea and chosenPersonP references
        const dareArea = document.getElementById('dare-area');
        const dareTextP = document.getElementById('dare-text');
        const nextTurnBtn = document.getElementById('next-turn-btn');
        const dareCountDiv = document.getElementById('dare-count');
        const gameOverDiv = document.getElementById('game-over');

        // Functions
        function createPlayerButtons() {
            setupArea.innerHTML = '<h2>Ch·ªçn ng∆∞·ªùi quay:</h2>';
            players.forEach(player => {
                const button = document.createElement('button');
                button.textContent = player;
                button.classList.add('player-select-btn');
                button.dataset.player = player;
                button.addEventListener('click', () => {
                    if (availableDares.length === 0) {
                        showGameOver();
                        return;
                    }
                    setupTurn(player);
                });
                setupArea.appendChild(button);
            });
        }

        function updateDareCount() {
            dareCountDiv.textContent = `S·ªë th·ª≠ th√°ch c√≤n l·∫°i: ${availableDares.length}`;
            if (availableDares.length === 0) {
                showGameOver();
            }
        }

        function setupTurn(spinnerName) {
            currentSpinner = spinnerName;
            potentialTargets = players.filter(p => p !== currentSpinner);

            // Display spinner name in green
            spinnerInfo.innerHTML = `<span>${currentSpinner}</span> ƒëang quay...`;

            wheelDisplay.textContent = `S·∫µn s√†ng quay: [ ${potentialTargets.join(' | ')} ]`;
            wheelDisplay.classList.remove('spinning');

            // Reset areas (resultArea no longer exists)
            dareArea.classList.add('hidden');
            nextTurnBtn.classList.add('hidden');
            spinBtn.disabled = false;
            dareTextP.textContent = '';

            setupArea.classList.add('hidden');
            gameArea.classList.remove('hidden');
            gameOverDiv.classList.add('hidden');
        }

        function spinWheel() {
            if (availableDares.length === 0) {
                 showGameOver();
                return;
            }

            spinBtn.disabled = true;
            // Reset areas (resultArea no longer exists)
            dareArea.classList.add('hidden');
            nextTurnBtn.classList.add('hidden');
            wheelDisplay.classList.add('spinning');


            let spinDuration = 3000; // 3 seconds
            let startTime = Date.now();
            let currentIndex = 0;

             if (spinningInterval) {
                clearInterval(spinningInterval);
             }

            spinningInterval = setInterval(() => {
                wheelDisplay.textContent = potentialTargets[currentIndex % potentialTargets.length];
                currentIndex++;

                if (Date.now() - startTime > spinDuration) {
                    stopSpinning();
                }
            }, 100);
        }

        function stopSpinning() {
            if(spinningInterval) {
                clearInterval(spinningInterval);
                spinningInterval = null;
            }
            wheelDisplay.classList.remove('spinning');


            const randomIndex = Math.floor(Math.random() * potentialTargets.length);
            const chosenPerson = potentialTargets[randomIndex];

            // Display the chosen person directly in the wheel display area
            wheelDisplay.textContent = chosenPerson;
            // resultArea is removed, no need to update it

            selectAndDisplayDare();

             if (availableDares.length > 0) {
                 nextTurnBtn.classList.remove('hidden');
             }
        }

         function selectAndDisplayDare() {
             if (availableDares.length === 0) {
                 showGameOver();
                 return;
             }

             const dareIndex = Math.floor(Math.random() * availableDares.length);
             const selectedDare = availableDares[dareIndex];

             // Display dare ID and text
             dareTextP.innerHTML = `<strong>${selectedDare.id}:</strong> ${selectedDare.text}`;
             dareArea.classList.remove('hidden');

             availableDares.splice(dareIndex, 1);
             updateDareCount();
         }

         function resetForNextTurn() {
             gameArea.classList.add('hidden');
             setupArea.classList.remove('hidden');
              if (availableDares.length === 0) {
                  showGameOver();
              }
         }

         function showGameOver() {
             if (!gameArea.classList.contains('hidden')) {
                gameArea.classList.add('hidden');
             }
             if (setupArea.classList.contains('hidden')) {
                 setupArea.classList.remove('hidden');
             }
             document.querySelectorAll('.player-select-btn').forEach(button => {
                 button.disabled = true;
             });

             spinBtn.disabled = true;
             nextTurnBtn.classList.add('hidden');
             gameOverDiv.classList.remove('hidden');
             updateDareCount();
         }


        // Event Listeners
        spinBtn.addEventListener('click', spinWheel);
        nextTurnBtn.addEventListener('click', resetForNextTurn);

        // Initial Setup
        createPlayerButtons();
        updateDareCount();

    </script>
</body>
</html>
